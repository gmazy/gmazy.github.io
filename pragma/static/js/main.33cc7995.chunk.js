(this.webpackJsonpmyproject=this.webpackJsonpmyproject||[]).push([[0],{173:function(e,t,a){e.exports=a(174)},174:function(e,t,a){"use strict";a.r(t);var n=a(134),l=a(135),i=a(136),s=a(147),r=a(137),u=a(20),o=a(148),m=a(0),c=a.n(m),d=a(50),h=a.n(d),v=(a(179),a(11)),f=function(e){function t(e){var a;Object(l.a)(this,t);var n=39,i=[3,4,5,6,7,8,15,18,20,21,22,23,24],o=[{name:"KonMT",value:[5,6,7,8,9,10,15,18,19,20,30,31,32,33,34,37,38,39]},{name:"KonEiMT",value:[1,2,3,4,11,25,26,27,28,29]},{name:"Tunne",value:[21,22,23,24,35]},{name:"RelevK\xe4yt",value:[13,14,17,36]},{name:"V\xe4\xe4rUsk",value:[12,16]}],m=[4,5,6,7,8],c="\n    1;3;3;3;3;3\n    2;3;3;3;3;3\n    3;3;3;3;3;3\n    4;4;3;3;3;3\n    5;7;3;3;3;3\n    6;11;3;3;3;3\n    7;16;3;3;3;3\n    8;18;3;3;3;3\n    9;25;3;3;3;3\n    10;33;3;3;3;3\n    11;37;3;3;3;3\n    12;44;4;3;3;3\n    13;52;14;4;3;3\n    14;57;16;5;3;3\n    15;64;22;5;3;3\n    16;69;24;6;3;3\n    17;76;28;8;3;3\n    18;80;36;10;3;3\n    19;83;44;11;3;3\n    20;87;48;12;3;3\n    21;90;50;13;3;3\n    22;90;55;14;3;3\n    23;90;57;16;3;3\n    24;90;59;22;5;3\n    25;96;69;24;5;3\n    26;96;76;29;6;3\n    27;97;77;36;9;3\n    28;97;81;37;17;5\n    29;97;86;41;19;7\n    30;97;87;47;28;8\n    31;97;95;64;33;9\n    32;97;97;72;52;10\n    33;97;97;83;63;17\n    34;97;97;87;71;30\n    35;97;97;89;76;39\n    36;97;97;97;82;62\n    37;97;97;97;87;78\n    38;97;97;97;87;91\n    39;97;97;97;87;91\n    40;97;97;97;87;91",d={},h={};(c=(c=(c=c.trim().replace(/ /g,"")).split(/\r?\n/)).map((function(e){return e.trim().split(";")}))).forEach((function(e){d={};for(var t=0;t<m.length;t++)d[m[t]]=e[t+1].trim();h[e[0]]=d})),n+=i.length;for(var v,f,b,y=Array(n).fill(""),p=Array(n).fill(!1),E=0,k=!1,g=0,_=[],T=[],x=0;x<n;x++)i.includes(E)&&!k?(k=!0,v="Perustelukysymys",g=2):(g=i.includes(E+1)?1:0,k=!1,E++),i.includes(E),T[x]={key:E,pkys:g,type:v,val:y[x]},k||(_[E]=x);for(var F=0;F<o.length;F++){f=o[F].name;for(var S=0;S<o[F].value.length;S++)b=_[o[F].value[S]],o[F].value[S]=b,T[b].type=f}return i=i.map((function(e){return _[e]})),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).state={isInputView:!0,submitDisabled:!0,numOfFields:n,fieldsInfo:T,automDisabledFields:[],sums:[],ageField:"",ageFieldPromptText:"",persentiili:h,fieldSubmittable:p,fieldDisabled:Array(n).fill(!1),results:""},a.handleTransition=a.handleTransition.bind(Object(u.a)(a)),a.handleNumberinput=a.handleNumberinput.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.handleFocus=a.handleFocus.bind(Object(u.a)(a)),a.handleReset=a.handleReset.bind(Object(u.a)(a)),a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"handleTransition",value:function(){this.setState({isInputView:!this.state.isInputView})}},{key:"handleReset",value:function(){for(var e=this.state.fieldsInfo.slice(),t=0;t<e.length;t++)e[t].val="";this.setState({fieldsInfo:e}),this.setState({fieldSubmittable:this.state.fieldSubmittable.slice().fill(!1)}),this.setState({fieldDisabled:this.state.fieldDisabled.slice().fill(!1)}),this.setState({submitDisabled:!0,ageField:"",ageFieldPromptText:""})}},{key:"handleChange",value:function(e){var t=this,a=e.target.value.replace(/[^x45678]/g,"").slice(-1);this.setState(Object(n.a)({},e.target.name,a),(function(){return t.checkAllFields()})),""!==a&&this.setState({ageFieldPromptText:""})}},{key:"moveToNextField",value:function(e){for(var t=this.state.fieldsInfo.length-1,a=parseInt(e);a<t&&(a++,!1!==this.state.fieldDisabled[a]););var n=document.getElementById(a);null!==n&&n.focus(),parseInt(e)===t&&document.activeElement.blur()}},{key:"handleFocus",value:function(e){!0===this.state.fieldDisabled[e.target.id]&&this.moveToNextField(e.target.id);var t=e.target.value;e.target.value="",e.target.value=t}},{key:"handleNumberinput",value:function(e){var t=this,a=e.target.value.replace(/[^01xX]/g,"").slice(-1),n=this.state.fieldsInfo.slice(),l=this.state.fieldSubmittable.slice(),i=this.state.fieldDisabled.slice(),s=parseInt(e.target.id)+1;i.length>s&&1===this.state.fieldsInfo[parseInt(e.target.id)].pkys&&("0"===a||"x"===a.toLowerCase()?(i[s]=!0,n[s].val="x",l[s]=!0):(i[s]=!1,"x"===n[s].val.toString().toLowerCase()&&(n[s].val="",l[s]=!1)));var r=e.target.id;this.setState({fieldDisabled:i},(function(){""!==a&&t.moveToNextField(r)})),n[e.target.id].val=a;var u,o=0,m=0;for(m=0;m<29&&("Perustelukysymys"===n[m].type||("0"===n[m].val?o++:o=0,6!==o));m++);if(6===o){if(0===this.state.automDisabledFields.length){var c=[];for(m=0;m<29;m++)""===n[m].val&&(i[m]=!0,c.push(m),n[m].val="x",l[m]=!0);for(m=47;m<52;m++)""===n[m].val&&(i[m]=!0,c.push(m),n[m].val="x",l[m]=!0);this.setState({automDisabledFields:c})}}else this.state.automDisabledFields.length>0&&(this.state.automDisabledFields.forEach((function(e){i[e]=!1,n[e].val="",l[e]=!1})),this.setState({automDisabledFields:[]}));this.setState({fieldsInfo:n}),l[e.target.id]=""!==(u=a)&&!isNaN(u)||"x"===u.toLowerCase(),this.setState({fieldSubmittable:l},(function(){return t.checkAllFields()}))}},{key:"checkAllFields",value:function(){var e=!0,t=!0,a=!1,n=void 0;try{for(var l,i=this.state.fieldSubmittable[Symbol.iterator]();!(t=(l=i.next()).done);t=!0){!1===l.value&&(e=!1)}}catch(s){a=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}""===this.state.ageField&&(e=!1,this.setState({ageFieldPromptText:"pakollinen kentt\xe4"})),this.setState({submitDisabled:!e})}},{key:"dateNow",value:function(){var e=new Date,t=String(e.getDate()).padStart(0,"0"),a=String(e.getMonth()+1).padStart(0,"0"),n=e.getFullYear();return e=t+"."+a+"."+n}},{key:"sumPoints",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"type",n=[];return e.forEach((function(e){"undefined"===typeof n[e[a]]&&(n[e[a]]=0),t=parseFloat(e.val),isNaN(t)||(n[e[a]]+=t)})),n}},{key:"tuenTarve",value:function(e){return isNaN(parseFloat(e))?"-":e<=6?"Selv\xe4sti tuen tarpeessa":e<=15?"Tuen tarpeessa":e<=25?"Seurattava":"Ei tuen tarpeessa"}},{key:"persentiiliarvo",value:function(e,t){return"undefined"===typeof this.state.persentiili[e]?"":"undefined"===typeof this.state.persentiili[e][t]?"Persentiiliarvo on saatavilla vain 4-8 vuotiaille.":this.state.persentiili[e][t]}},{key:"render",value:function(){for(var e,t,a=this,n=[],l=0;l<this.state.fieldsInfo.length;l++){var i=this.state.fieldSubmittable[l]?"submittable":"notsubmittable";this.state.fieldDisabled[l]&&(i="disabled");var s="Perustelukysymys"===this.state.fieldsInfo[l].type?this.state.fieldsInfo[l].key+"b:":this.state.fieldsInfo[l].key+":";n.push(c.a.createElement("div",{key:l},c.a.createElement("span",{className:"label"},s),c.a.createElement("input",{id:l,type:"text",className:i,onFocus:this.handleFocus,onChange:this.handleNumberinput,value:this.state.fieldsInfo[l].val,autoComplete:"off"})))}var r=[],u=this.sumPoints(this.state.fieldsInfo,"type"),o=this.sumPoints(this.state.fieldsInfo,"pkys"),m=u.KonEiMT+u.KonMT+u["V\xe4\xe4rUsk"]+u["RelevK\xe4yt"]+u.Tunne,d="Ei laskettavissa";0!==o[1]&&(d=(o[2]/o[1]*100).toFixed(1));var h=this.persentiiliarvo(m,this.state.ageField),f=this.tuenTarve(h);if(this.state.submitDisabled||r.push(c.a.createElement("div",{key:"results-field"},c.a.createElement("br",null),"KonEiMT: \xa0 ",u.KonEiMT," /10",c.a.createElement("br",null),"KonMT: \xa0 ",u.KonMT," /18",c.a.createElement("br",null),"V\xe4\xe4rUsk: \xa0 ",u["V\xe4\xe4rUsk"]," /2",c.a.createElement("br",null),"RelevK\xe4yt: \xa0 ",u["RelevK\xe4yt"]," /4",c.a.createElement("br",null),"Tunne: \xa0 ",u.Tunne," /5",c.a.createElement("br",null),"Sis\xe4lt\xf6pisteet: \xa0 ",m," /39",c.a.createElement("br",null),c.a.createElement("br",null),"Perustelukysymysten pisteet: \xa0 ",o[2]," /13 ",c.a.createElement("br",null),"Perustelukysymysten suhteelliset pisteet: ",d,c.a.createElement("br",null),c.a.createElement("br",null),"Persentiiliarvo: ",h," ",c.a.createElement("br",null),"Tuen tarve: ",f,c.a.createElement("br",null),c.a.createElement("br",null))),this.state.isInputView)t=c.a.createElement("div",null,c.a.createElement("div",{className:"bluebar"}),c.a.createElement("div",{className:"inputview"},c.a.createElement("form",null,c.a.createElement("h2",null,"Pragma-testi"),c.a.createElement("button",{className:"resetbutton",type:"button",onClick:this.handleReset},"Tyhjenn\xe4"),c.a.createElement("br",null),c.a.createElement("b",null,"T\xe4ytt\xf6ohje:"),c.a.createElement("br",null),"Merkitse kysymysten pisteet numeroin ja v\xe4list\xe4 j\xe4tetty kysymys merkill\xe4 X.",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("div",{className:"age"},c.a.createElement("b",null,"Lapsen ik\xe4:"),c.a.createElement("input",{type:"text",name:"ageField",onChange:this.handleChange,value:this.state.ageField,autoComplete:"off"}),"\xa0 ",c.a.createElement("span",{className:"errorprompt"},this.state.ageFieldPromptText)),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("b",null,"Kysymykset:"),"  ",c.a.createElement("br",null),c.a.createElement("div",{className:"numberinputs"},n),c.a.createElement("button",{type:"button",onClick:this.handleTransition,disabled:this.state.submitDisabled},"Tulostus"))),r);else{var b=[{name:"4-vuotiaat",age:"4",uv:7,pv:9,median:12,alue:[7,19]},{name:"5-vuotiaat",age:"5",uv:14,pv:16,median:22,alue:[14,28]},{name:"6-vuotiaat",age:"6",uv:23,pv:25,median:31,alue:[23,33]},{name:"7-vuotiaat",age:"7",uv:28,pv:29,median:32,alue:[28,36]},{name:"8-vuotiaat",age:"8",uv:33,pv:33,median:36,alue:[33,37]}],y=b.find((function(e){return e.age===a.state.ageField}));"undefined"!==typeof y&&(y.score=m);for(var p=[],E=0;E<this.state.fieldsInfo.length;E++)p.push({key:E,name:"Arvo "+(E+1),Arvo:this.state.fieldsInfo[E]});var k=c.a.createElement("div",{className:"chart"},c.a.createElement(v.c,{width:800,height:400,data:b},c.a.createElement(v.b,{stroke:"LightGray",vertical:!1,className:"linestyle"}),c.a.createElement(v.g,{dataKey:"name",type:"category",domain:["dataMin","dataMax"],interval:0,tickLine:!1,padding:{left:72,right:72},unit:"",tick:function(e){var t=e.x,a=e.y,n=e.payload,l=n.value;n.offset;return c.a.createElement("svg",null,c.a.createElement("text",{x:t,y:a+9,textAnchor:"middle"},l),c.a.createElement("line",{x1:t+71,y1:a-9,x2:t+71,y2:a-369,stroke:"LightGray","stroke-width":"0.5"}))}}),c.a.createElement(v.h,{tickCount:14,minTickGap:0,domain:[0,39],tick:function(e){var t=e.x,a=e.y,n=e.payload,l=n.value;n.offset;return c.a.createElement("svg",null,c.a.createElement("text",{x:t-10,y:a+4,textAnchor:"middle"},l),c.a.createElement("line",{x1:t+7,y1:a-9.5,x2:t+738,y2:a-9.5,stroke:"LightGray","stroke-width":"1"}),c.a.createElement("line",{x1:t+7,y1:a-19,x2:t+738,y2:a-19,stroke:"LightGray","stroke-width":"1"}))},label:{value:"Kokonaispisteet",angle:-90,position:"insideLeft",className:"kokpisteet"}}),c.a.createElement(v.a,{dataKey:"alue",stroke:"#888888",name:"Tyypillinen suoritusalue",fill:"#999999",strokeWidth:.5,isAnimationActive:!1}),c.a.createElement(v.d,{dataKey:"median",stroke:"#000000",name:"Mediaani",strokeWidth:1,dot:!1,isAnimationActive:!1}),c.a.createElement(v.d,{dataKey:"pv",stroke:"#000000",name:"Alaraja 16%",strokeDasharray:"2 2",strokeWidth:2,dot:!1,isAnimationActive:!1}),c.a.createElement(v.d,{dataKey:"uv",stroke:"#000000",name:"Alaraja 25%",strokeDasharray:"2 2",strokeWidth:2,dot:!1,isAnimationActive:!1}),c.a.createElement(v.e,{name:"Kokonaispisteet",dataKey:"score",fill:"black"}),c.a.createElement(v.f,{label:"-vuotiaat",unit:"-vuotiaat"})));e=c.a.createElement("div",{className:"resultsView"},c.a.createElement("button",{onClick:this.handleTransition},"Takaisin"),c.a.createElement("h2",null,"Pragma-testi"),c.a.createElement("br",null),"Testaajan nimi: __________________________________",c.a.createElement("br",null),c.a.createElement("br",null),"Lapsen nimi: __________________________________",c.a.createElement("br",null),c.a.createElement("br",null),"Lapsen ik\xe4: ",this.state.ageField,c.a.createElement("br",null),c.a.createElement("br",null),"Testausp\xe4iv\xe4m\xe4\xe4r\xe4: ",this.dateNow(),c.a.createElement("br",null),r,c.a.createElement("br",null),k,c.a.createElement("img",{src:"selite.png",alt:"Linechart"}),c.a.createElement("br",null),c.a.createElement("br",null),"(ks. tarkemmin kaavion tulkinnasta testik\xe4sikirjan liite 4)",c.a.createElement("br",null),c.a.createElement("button",{className:"printbutton",type:"button",onClick:window.print},"Tulosta"))}return c.a.createElement("div",null,t,e)}}]),t}(c.a.Component);h.a.render(c.a.createElement(f,null),document.getElementById("root"))},179:function(e,t,a){}},[[173,1,2]]]);
//# sourceMappingURL=main.33cc7995.chunk.js.map